(function(){var PATH_NAME="getURL",PATH_DBJS=global.b2link_router_external._SITE_COLLECT_URL.PATH.crud+PATH_NAME+".dbjs",PATH_URI=global.b2link_router_external._SITE_COLLECT_URL.PATH.crud,PATH_CACHE=PATH_URI.replace(/\//gi,"-"),_MAP=function(){var e={};return e}(),_URL=function(){var e=[];return e}(),_query=global.b2link.fs.getDBJS(PATH_DBJS),f=function(e,l){var r=global.b2link.url.getQueryFromURL(e.url),_=global.b2link.request.getIP(e);if(_URL.length){var n=_URL[0];if(!_MAP[_])return _MAP[_]=n.url,void global.b2link.response.send_200_JSON(e,l,result);if(_MAP[_]!=n.url)return void global.b2link.response.send_200_JSON(e,l,result)}var o=_query;global.b2link.request.get__member_session$checkSessionAndReqMongoDB__CallBack(e,l,r,"admin",o,function(e,l,n,o){return n?void global.b2link.response.send_200_False__ErrorLog(e,l,r,n):global.b2link.response.getResultStatus(o)?_MAP[_]?_MAP[_]==o.url?(_URL.push(o),void global.b2link.response.send_200_False(e,l)):void global.b2link.response.send_200_JSON(e,l,o):(_MAP[_]=o.url,void global.b2link.response.send_200_JSON(e,l,o)):void global.b2link.response.send_200_False(e,l)})};return f;})();